<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>API Documentation</title>
</head>
<body class="bg-light">
    <div class="container my-5">
        <h1>API Documentation</h1>
        
        <section>
            <h2>Base URL</h2>
            <p><code>http://ls2.denisenko.com</code></p>
        </section>

        <section>
            <h2 onclick="toggleSection('endpoints')" id="endpointsHeader">Endpoints</h2>
            <div id="endpoints">

            <div class="mb-4">
                <h3>GET /users</h3>
                <p>Retrieve a list of all users.</p>
                <p><strong>Response:</strong></p>
                <pre>
[
    {
        "id": 1,
        "username": "JohnDoe",
        "email": "john.doe@example.com",
        "balance": 100.00,
        "currency": "USD"
    },
    ...
]
                </pre>
            </div>

            <div class="mb-4">
                <h3>GET /users/:id</h3>
                <p>Retrieve details of a specific user by ID.</p>
                <p><strong>Response:</strong></p>
                <pre>
{
    "id": 1,
    "username": "JohnDoe",
    "email": "john.doe@example.com",
    "balance": 100.00,
    "currency": "USD",
    "transaction_history": [
        {
            "type": "Deposit",
            "amount": 50,
            "date": "2024-01-01T12:00:00Z"
        }
    ]
}
                </pre>
            </div>

            <div class="mb-4">
                <h3>POST /users</h3>
                <p>Create a new user.</p>
                <p><strong>Request Body:</strong></p>
                <pre>
{
    "username": "JohnDoe",
    "email": "john.doe@example.com",
    "balance": 100.00,
    "currency": "USD"
}
                </pre>
                <p><strong>Response:</strong></p>
                <pre>
{
    "id": 1,
    "username": "JohnDoe",
    "email": "john.doe@example.com",
    "balance": 100.00,
    "currency": "USD"
}
                </pre>
            </div>

            <div class="mb-4">
                <h3>DELETE /users/:id</h3>
                <p>Delete a user by their ID.</p>
                <p><strong>Response:</strong></p>
                <pre>
{
    "message": "User deleted successfully."
}
                </pre>
            </div>

            <div class="mb-4">
                <h3>GET /users/:id/balance</h3>
                <p>Retrieve the balance of a specific user by their ID.</p>
                <p><strong>Response:</strong></p>
                <pre>
"300 EUR"
                </pre>
            </div>
            
            <div class="mb-4">
                <h3>GET /users/:id/transactions</h3>
                <p>Retrieve the transaction history of a specific user by their ID.</p>
                <p><strong>Response:</strong></p>
                <pre>
[
    {
        "type": "Deposit",
        "amount": 50.00,
        "date": "2024-01-01T12:00:00Z"
    },
    {
        "type": "Withdrawal",
        "amount": 20.00,
        "date": "2024-01-02T15:00:00Z"
    }
]
                </pre>
            </div>

            <div class="mb-4">
                <h3>POST /users/:id/deposit</h3>
                <p>Add funds to a user’s account. Supports deposits in different currencies with automatic conversion based on current exchange rates.</p>
                <p><strong>Request Body:</strong></p>
                <pre>
{
    "amount": 50.00,
    "currency": "EUR"
}
                </pre>
                <p><strong>Response:</strong></p>
                <pre>
{
    "message": "Deposit successful",
    "new_balance": 150.00
}
                </pre>
            </div>

            <div class="mb-4">
                <h3>POST /users/:id/withdraw</h3>
                <p>Withdraw funds from a user’s account. Handles currency conversion if specified in the request.</p>
                <p><strong>Request Body:</strong></p>
                <pre>
{
    "amount": 50.00,
    "currency": "USD"
}
                </pre>
                <p><strong>Response:</strong></p>
                <pre>
{
    "message": "Withdrawal successful",
    "new_balance": 250.00
}
                </pre>
            </div>

            <div class="mb-4">
                <h3>POST /users/:id/transfer</h3>
                <p>Transfer funds between users with automatic currency conversion.</p>
                <p><strong>Request Body:</strong></p>
                <pre>
{
    "recipient_id": 2,
    "amount": 100.00
}
                </pre>
                <p><strong>Response:</strong></p>
                <pre>
{
    "message": "Transfer successful",
    "sender_new_balance": 300.00,
    "recipient_new_balance": 650.00
}
                </pre>
            </div>
            </div>
        </section>

        <section>
            <h2 onclick="toggleSection('dashboard')" id="dashboardHeader">Dashboard</h2>
            <div id="dashboard" class="mb-4">
                <h3>Dashboard Features</h3>
                <p>The Dashboard provides an overview of the user's information and allows for the following actions:</p>
                <ul>
                    <li><strong>View User Information:</strong> Displays the username, email, and account balance.</li>
                    <li><strong>Transaction History:</strong> Lists all transactions related to the user, including deposits, withdrawals, and transfers.</li>
                    <li><strong>Transfer Money:</strong> Allows users to transfer money to other users by specifying the recipient ID and amount.</li>
                </ul>
                <p><strong>Access URL:</strong></p>
                <pre>http://ls2.denisenko.com/dashboard</pre>
                <p><strong>Example Query:</strong> User ID is passed as a URL parameter, e.g., <code>?id=1</code>.</p>
            </div>
        </section>
        
        <section>
            <h2 onclick="toggleSection('adminPanel')" id="adminPanelHeader">Admin Panel</h2>
            <div id="adminPanel" class="mb-4">
                <h3>Admin Panel Features</h3>
                <p>The Admin Panel allows administrators to manage user accounts and perform the following operations:</p>
                <ul>
                    <li><strong>View All Users:</strong> Displays a list of all registered users in a table format.</li>
                    <li><strong>Add a User:</strong> Includes a form to add new users with details like username, email, balance, and currency.</li>
                    <li><strong>Edit a User:</strong> Allows administrators to update user information directly within the interface.</li>
                    <li><strong>Delete a User:</strong> Provides a quick option to remove users from the database.</li>
                </ul>
                <p><strong>Access URL:</strong></p>
                <pre>http://ls2.denisenko.com/admin</pre>
                <p><strong>Example Usage:</strong> The admin panel provides an interactive interface for managing the database in real-time.</p>
            </div>
        </section>
        
    </div>
    <script>
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section.style.maxHeight) {
                section.style.maxHeight = null; 
            } else {
                section.style.maxHeight = section.scrollHeight + "px";
            }
        }
    </script>
</body>
<footer class="mt-5">
    <p>API Documentation for <strong>ls2.denisenko.com</strong></p>
</footer>
</html>
